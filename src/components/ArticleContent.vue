<template>
     <section class="" id="article-content">
        <div id="content">
            <div id="1">
                <h1 class="title is-1" id="1">some link 1</h1>
                <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Eaque ab libero vitae 
                    tempore debitis? Ad aliquid eligendi illum debitis corrupti nisi ea, alias at 
                    obcaecati labore architecto cupiditate quibusdam ex.
                    Lorem ipsum dolor sit amet consectetur adipisicing elit. Eaque ab libero vitae 
                    tempore debitis? Ad aliquid eligendi illum debitis corrupti nisi ea, alias at 
                    obcaecati labore architecto cupiditate quibusdam ex.
                    Lorem ipsum dolor sit amet consectetur adipisicing elit. Eaque ab libero vitae 
                    tempore debitis? Ad aliquid eligendi illum debitis corrupti nisi ea, alias at 
                    obcaecati labore architecto cupiditate quibusdam ex.
                    Lorem ipsum dolor sit amet consectetur adipisicing elit. Eaque ab libero vitae 
                    tempore debitis? Ad aliquid eligendi illum debitis corrupti nisi ea, alias at 
                    obcaecati labore architecto cupiditate quibusdam ex.
                    Lorem ipsum dolor sit amet consectetur adipisicing elit. Eaque ab libero vitae 
                    tempore debitis? Ad aliquid eligendi illum debitis corrupti nisi ea, alias at 
                    obcaecati labore architecto cupiditate quibusdam ex.
                    Lorem ipsum dolor sit amet consectetur adipisicing elit. Eaque ab libero vitae 
                    tempore debitis? Ad aliquid eligendi illum debitis corrupti nisi ea, alias at 
                    obcaecati labore architecto cupiditate quibusdam ex.</p>
            </div>
            <div id="2">
                <h1 class="title is-1" id="2">some link 2</h1>
                <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Eaque ab libero vitae 
                    tempore debitis? Ad aliquid eligendi illum debitis corrupti nisi ea, alias at 
                    obcaecati labore architecto cupiditate quibusdam ex.
                    Lorem ipsum dolor sit amet consectetur adipisicing elit. Eaque ab libero vitae 
                    tempore debitis? Ad aliquid eligendi illum debitis corrupti nisi ea, alias at 
                    obcaecati labore architecto cupiditate quibusdam ex.
                    Lorem ipsum dolor sit amet consectetur adipisicing elit. Eaque ab libero vitae 
                    tempore debitis? Ad aliquid eligendi illum debitis corrupti nisi ea, alias at 
                    obcaecati labore architecto cupiditate quibusdam ex.
                    Lorem ipsum dolor sit amet consectetur adipisicing elit. Eaque ab libero vitae 
                    tempore debitis? Ad aliquid eligendi illum debitis corrupti nisi ea, alias at 
                    obcaecati labore architecto cupiditate quibusdam ex.
                    Lorem ipsum dolor sit amet consectetur adipisicing elit. Eaque ab libero vitae 
                    tempore debitis? Ad aliquid eligendi illum debitis corrupti nisi ea, alias at 
                    obcaecati labore architecto cupiditate quibusdam ex.
                    Lorem ipsum dolor sit amet consectetur adipisicing elit. Eaque ab libero vitae 
                    tempore debitis? Ad aliquid eligendi illum debitis corrupti nisi ea, alias at 
                    obcaecati labore architecto cupiditate quibusdam ex.</p>
            </div>
            <div id="3">
                <h1 class="title is-1" id="3">some link 3</h1>
                 <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Eaque ab libero vitae 
                    tempore debitis? Ad aliquid eligendi illum debitis corrupti nisi ea, alias at 
                    obcaecati labore architecto cupiditate quibusdam ex.
                    Lorem ipsum dolor sit amet consectetur adipisicing elit. Eaque ab libero vitae 
                    tempore debitis? Ad aliquid eligendi illum debitis corrupti nisi ea, alias at 
                    obcaecati labore architecto cupiditate quibusdam ex.
                    Lorem ipsum dolor sit amet consectetur adipisicing elit. Eaque ab libero vitae 
                    tempore debitis? Ad aliquid eligendi illum debitis corrupti nisi ea, alias at 
                    obcaecati labore architecto cupiditate quibusdam ex.
                    Lorem ipsum dolor sit amet consectetur adipisicing elit. Eaque ab libero vitae 
                    tempore debitis? Ad aliquid eligendi illum debitis corrupti nisi ea, alias at 
                    obcaecati labore architecto cupiditate quibusdam ex.
                    Lorem ipsum dolor sit amet consectetur adipisicing elit. Eaque ab libero vitae 
                    tempore debitis? Ad aliquid eligendi illum debitis corrupti nisi ea, alias at 
                    obcaecati labore architecto cupiditate quibusdam ex.
                    Lorem ipsum dolor sit amet consectetur adipisicing elit. Eaque ab libero vitae 
                    tempore debitis? Ad aliquid eligendi illum debitis corrupti nisi ea, alias at 
                    obcaecati labore architecto cupiditate quibusdam ex.</p>
            </div>
            <div id="4">
                <h1 class="title is-1" id="4">some link 4</h1>
                 <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Eaque ab libero vitae 
                    tempore debitis? Ad aliquid eligendi illum debitis corrupti nisi ea, alias at 
                    obcaecati labore architecto cupiditate quibusdam ex.
                    Lorem ipsum dolor sit amet consectetur adipisicing elit. Eaque ab libero vitae 
                    tempore debitis? Ad aliquid eligendi illum debitis corrupti nisi ea, alias at 
                    obcaecati labore architecto cupiditate quibusdam ex.
                    Lorem ipsum dolor sit amet consectetur adipisicing elit. Eaque ab libero vitae 
                    tempore debitis? Ad aliquid eligendi illum debitis corrupti nisi ea, alias at 
                    obcaecati labore architecto cupiditate quibusdam ex.
                    Lorem ipsum dolor sit amet consectetur adipisicing elit. Eaque ab libero vitae 
                    tempore debitis? Ad aliquid eligendi illum debitis corrupti nisi ea, alias at 
                    obcaecati labore architecto cupiditate quibusdam ex.
                    Lorem ipsum dolor sit amet consectetur adipisicing elit. Eaque ab libero vitae 
                    tempore debitis? Ad aliquid eligendi illum debitis corrupti nisi ea, alias at 
                    obcaecati labore architecto cupiditate quibusdam ex.
                    Lorem ipsum dolor sit amet consectetur adipisicing elit. Eaque ab libero vitae 
                    tempore debitis? Ad aliquid eligendi illum debitis corrupti nisi ea, alias at 
                    obcaecati labore architecto cupiditate quibusdam ex.</p>
            </div>
            <div id="5">
                <h1 class="title is-1" id="5">some link 5</h1>
                 <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Eaque ab libero vitae 
                    tempore debitis? Ad aliquid eligendi illum debitis corrupti nisi ea, alias at 
                    obcaecati labore architecto cupiditate quibusdam ex.
                    Lorem ipsum dolor sit amet consectetur adipisicing elit. Eaque ab libero vitae 
                    tempore debitis? Ad aliquid eligendi illum debitis corrupti nisi ea, alias at 
                    obcaecati labore architecto cupiditate quibusdam ex.
                    Lorem ipsum dolor sit amet consectetur adipisicing elit. Eaque ab libero vitae 
                    tempore debitis? Ad aliquid eligendi illum debitis corrupti nisi ea, alias at 
                    obcaecati labore architecto cupiditate quibusdam ex.
                    Lorem ipsum dolor sit amet consectetur adipisicing elit. Eaque ab libero vitae 
                    tempore debitis? Ad aliquid eligendi illum debitis corrupti nisi ea, alias at 
                    obcaecati labore architecto cupiditate quibusdam ex.
                    Lorem ipsum dolor sit amet consectetur adipisicing elit. Eaque ab libero vitae 
                    tempore debitis? Ad aliquid eligendi illum debitis corrupti nisi ea, alias at 
                    obcaecati labore architecto cupiditate quibusdam ex.
                    Lorem ipsum dolor sit amet consectetur adipisicing elit. Eaque ab libero vitae 
                    tempore debitis? Ad aliquid eligendi illum debitis corrupti nisi ea, alias at 
                    obcaecati labore architecto cupiditate quibusdam ex.</p>
            </div>
        </div>
    
    </section>
</template>

<script lang="ts">
import Vue from 'vue';
export default Vue.extend({
  methods: {
    handleScroll(event: Event) {
      const elements: HTMLElement[] = [
        ...(document.querySelectorAll('div[id="content"]>div>h1') as NodeListOf<
          HTMLElement
        >),
      ];
      const height: number = window.scrollY + 200;
      const filtered = elements.filter(el => el.offsetTop < height);
      const lastElement: HTMLElement | undefined = filtered.pop();

      if (lastElement) {
        this.$emit('scroll', lastElement.getAttribute('id'));
      }
    },
  },
  created() {
    window.addEventListener('scroll', this.handleScroll);
    this.$emit('scroll', 1);
  },
  destroyed() {
    window.removeEventListener('scroll', this.handleScroll);
  },
});
</script>

<style lang="scss" scoped>
</style>


